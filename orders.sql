#create database gym_database;
#use gym_database;
#show warnings;
CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,         
    member_id INT NOT NULL,          -- 外鍵，參照 member 資料表                   
    total_amount DECIMAL(10, 0) NOT NULL,             
    status VARCHAR(50) NOT NULL,                      
    self_pickup_store TEXT NOT NULL,                  
    payment_method VARCHAR(50) NOT NULL,             
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP 
    
);
desc orders;
#drop table orders;

INSERT INTO orders (member_id, total_amount, status, self_pickup_store, payment_method)
VALUES
(1, 150, 'pending', '健身房A', '信用卡'),
(2, 250, 'completed', '健身房B', '現金'),
(3, 99, 'canceled', '健身房C', '信用卡'),
(4, 300, 'pending', '健身房D', '現金'),
(5, 450, 'completed', '健身房E', '信用卡'),
(6, 120, 'pending', '健身房A', '現金'),
(7, 200, 'completed', '健身房B', '信用卡'),
(8, 330, 'canceled', '健身房C', '現金'),
(9, 175, 'pending', '健身房D', '信用卡'),
(10, 550, 'completed', '健身房E', '現金'),
(11, 120, 'pending', '健身房A', '信用卡'),
(12, 300, 'completed', '健身房B', '現金'),
(13, 410, 'pending', '健身房C', '信用卡'),
(14, 95, 'canceled', '健身房D', '現金'),
(15, 210, 'completed', '健身房E', '信用卡'),
(16, 305, 'pending', '健身房A', '現金'),
(17, 480, 'completed', '健身房B', '信用卡'),
(18, 150, 'canceled', '健身房C', '現金'),
(19, 225, 'pending', '健身房D', '信用卡'),
(20, 310, 'completed', '健身房E', '現金'),
(21, 95, 'pending', '健身房A', '信用卡'),
(22, 215, 'completed', '健身房B', '現金'),
(23, 405, 'pending', '健身房C', '信用卡'),
(24, 310, 'canceled', '健身房D', '現金'),
(25, 220, 'completed', '健身房E', '信用卡'),
(26, 500, 'pending', '健身房A', '現金'),
(27, 130, 'completed', '健身房B', '信用卡'),
(28, 345, 'canceled', '健身房C', '現金'),
(29, 290, 'pending', '健身房D', '信用卡'),
(30, 425, 'completed', '健身房E', '現金');

select * from orders;
#delete from orders;


CREATE TABLE order_items (
    order_item_id INT AUTO_INCREMENT PRIMARY KEY, 
    order_id INT NOT NULL,                        -- 外鍵，參照 orders 資料表
    product_id INT NOT NULL,                      -- 外鍵，參照 products 資料表
    quantity INT NOT NULL,                        -- 商品數量
    total_price DECIMAL(10, 0) NOT NULL,          -- 商品總金額
    rental_days INT NOT NULL,                     -- 租借天數
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- 訂單項目建立時間
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP -- 訂單項目更新時間
    
);
-- FOREIGN KEY (order_id) REFERENCES orders(order_id), -- 設定外鍵
-- FOREIGN KEY (product_id) REFERENCES products(product_id) -- 設定外鍵

INSERT INTO order_items (order_id, product_id, quantity, total_price, rental_days, created_at, updated_at)
VALUES
(1, 1, 2, 300, 3, '2025-01-10 10:00:00', '2025-01-10 10:00:00'),
(2, 2, 1, 150, 2, '2025-01-10 11:00:00', '2025-01-10 11:00:00'),
(3, 3, 3, 450, 5, '2025-01-11 09:30:00', '2025-01-11 09:30:00'),
(4, 4, 1, 120, 1, '2025-01-11 14:20:00', '2025-01-11 14:20:00'),
(5, 5, 2, 250, 2, '2025-01-12 08:00:00', '2025-01-12 08:00:00'),
(6, 6, 4, 600, 6, '2025-01-12 15:30:00', '2025-01-12 15:30:00'),
(7, 7, 2, 500, 4, '2025-01-13 13:45:00', '2025-01-13 13:45:00'),
(8, 8, 3, 330, 3, '2025-01-13 16:10:00', '2025-01-13 16:10:00'),
(9, 9, 1, 200, 2, '2025-01-14 09:20:00', '2025-01-14 09:20:00'),
(10, 10, 5, 750, 5, '2025-01-14 12:00:00', '2025-01-14 12:00:00'),
(11, 11, 2, 400, 4, '2025-01-15 10:30:00', '2025-01-15 10:30:00'),
(12, 12, 1, 150, 3, '2025-01-15 11:45:00', '2025-01-15 11:45:00'),
(13, 13, 3, 450, 6, '2025-01-16 14:10:00', '2025-01-16 14:10:00'),
(14, 14, 2, 240, 2, '2025-01-16 16:00:00', '2025-01-16 16:00:00'),
(15, 15, 1, 180, 3, '2025-01-17 09:00:00', '2025-01-17 09:00:00'),
(16, 16, 4, 600, 6, '2025-01-17 10:45:00', '2025-01-17 10:45:00'),
(17, 17, 2, 420, 4, '2025-01-18 11:30:00', '2025-01-18 11:30:00'),
(18, 18, 3, 360, 3, '2025-01-18 14:00:00', '2025-01-18 14:00:00'),
(19, 19, 1, 150, 2, '2025-01-19 12:20:00', '2025-01-19 12:20:00'),
(20, 20, 2, 300, 3, '2025-01-19 15:10:00', '2025-01-19 15:10:00'),
(21, 21, 2, 400, 4, '2025-01-20 09:00:00', '2025-01-20 09:00:00'),
(22, 22, 3, 450, 3, '2025-01-20 11:15:00', '2025-01-20 11:15:00'),
(23, 23, 1, 120, 2, '2025-01-21 10:30:00', '2025-01-21 10:30:00'),
(24, 24, 4, 720, 6, '2025-01-21 13:00:00', '2025-01-21 13:00:00'),
(25, 25, 2, 300, 3, '2025-01-22 14:45:00', '2025-01-22 14:45:00'),
(26, 26, 3, 450, 3, '2025-01-22 16:30:00', '2025-01-22 16:30:00'),
(27, 27, 1, 200, 2, '2025-01-23 09:15:00', '2025-01-23 09:15:00'),
(28, 28, 2, 350, 5, '2025-01-23 11:00:00', '2025-01-23 11:00:00'),
(29, 29, 4, 480, 4, '2025-01-24 08:45:00', '2025-01-24 08:45:00'),
(30, 30, 3, 540, 6, '2025-01-24 14:30:00', '2025-01-24 14:30:00'),
(31, 31, 2, 300, 3, '2025-01-25 09:20:00', '2025-01-25 09:20:00'),
(32, 32, 5, 600, 6, '2025-01-25 12:10:00', '2025-01-25 12:10:00'),
(33, 33, 3, 450, 3, '2025-01-26 10:45:00', '2025-01-26 10:45:00'),
(34, 34, 1, 150, 2, '2025-01-26 13:30:00', '2025-01-26 13:30:00'),
(35, 35, 2, 240, 4, '2025-01-27 09:50:00', '2025-01-27 09:50:00'),
(36, 36, 3, 360, 3, '2025-01-27 11:20:00', '2025-01-27 11:20:00'),
(37, 37, 4, 600, 6, '2025-01-28 08:30:00', '2025-01-28 08:30:00'),
(38, 38, 1, 120, 2, '2025-01-28 12:40:00', '2025-01-28 12:40:00'),
(39, 39, 2, 250, 5, '2025-01-29 09:10:00', '2025-01-29 09:10:00'),
(40, 40, 3, 450, 3, '2025-01-29 14:15:00', '2025-01-29 14:15:00'),
(41, 41, 1, 200, 2, '2025-01-30 09:00:00', '2025-01-30 09:00:00'),
(42, 42, 4, 600, 6, '2025-01-30 10:45:00', '2025-01-30 10:45:00'),
(43, 43, 2, 300, 3, '2025-01-31 11:30:00', '2025-01-31 11:30:00'),
(44, 44, 5, 750, 5, '2025-01-31 15:10:00', '2025-01-31 15:10:00'),
(45, 45, 3, 450, 3, '2025-02-01 08:50:00', '2025-02-01 08:50:00'),
(46, 46, 2, 250, 2, '2025-02-01 12:30:00', '2025-02-01 12:30:00'),
(47, 47, 1, 180, 3, '2025-02-02 09:10:00', '2025-02-02 09:10:00'),
(48, 48, 3, 540, 6, '2025-02-02 13:40:00', '2025-02-02 13:40:00'),
(49, 49, 2, 300, 3, '2025-02-03 10:20:00', '2025-02-03 10:20:00'),
(50, 50, 4, 480, 4, '2025-02-03 15:00:00', '2025-02-03 15:00:00'),
(51, 51, 3, 450, 3, '2025-02-04 11:10:00', '2025-02-04 11:10:00'),
(52, 52, 1, 120, 2, '2025-02-04 14:30:00', '2025-02-04 14:30:00'),
(53, 53, 2, 400, 4, '2025-02-05 08:45:00', '2025-02-05 08:45:00'),
(54, 54, 3, 540, 6, '2025-02-05 13:50:00', '2025-02-05 13:50:00'),
(55, 55, 2, 300, 3, '2025-02-06 09:20:00', '2025-02-06 09:20:00');

select * from order_items;
 #drop table order_items;

CREATE TABLE payments (
    payment_id INT AUTO_INCREMENT PRIMARY KEY, 
    order_id INT NOT NULL,                     -- 外鍵，參照 orders 資料表
    amount DECIMAL(10, 0) NOT NULL,            -- 付款金額
    payment_method VARCHAR(50) NOT NULL,       -- 付款方式 (例如：信用卡、現金)
    payment_status VARCHAR(50) NOT NULL,       -- 付款狀態 (例如：success、failed、pending)
    payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- 付款時間
    
);
-- FOREIGN KEY (order_id) REFERENCES orders(order_id) -- 設定外鍵，關聯到 orders 表

INSERT INTO payments (order_id, amount, payment_method, payment_status, payment_date) 
VALUES
(1, 150, '信用卡', 'success', '2025-01-10 14:20:00'),
(2, 250, '現金', 'success', '2025-01-10 15:30:00'),
(3, 99, '信用卡', 'failed', '2025-01-11 10:00:00'),
(4, 300, '現金', 'success', '2025-01-11 11:45:00'),
(5, 450, '信用卡', 'success', '2025-01-12 09:20:00'),
(6, 120, '現金', 'pending', '2025-01-12 10:50:00'),
(7, 200, '信用卡', 'failed', '2025-01-13 13:30:00'),
(8, 330, '現金', 'success', '2025-01-13 14:10:00'),
(9, 175, '信用卡', 'pending', '2025-01-14 08:50:00'),
(10, 550, '現金', 'success', '2025-01-14 16:20:00'),
(11, 120, '信用卡', 'success', '2025-01-15 11:00:00'),
(12, 300, '現金', 'failed', '2025-01-15 12:30:00'),
(13, 410, '信用卡', 'success', '2025-01-16 14:50:00'),
(14, 95, '現金', 'pending', '2025-01-16 15:40:00'),
(15, 210, '信用卡', 'success', '2025-01-17 09:10:00'),
(16, 305, '現金', 'success', '2025-01-17 10:20:00'),
(17, 480, '信用卡', 'success', '2025-01-18 13:50:00'),
(18, 150, '現金', 'failed', '2025-01-18 14:30:00'),
(19, 225, '信用卡', 'pending', '2025-01-19 11:20:00'),
(20, 310.00, '現金', 'success', '2025-01-19 15:00:00');

select * from payments;
#drop table payments;
#delete from payments;