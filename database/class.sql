-- 資料表結構 `classes`
--

CREATE TABLE `classes` (
  `id` int NOT NULL,
  `type_id` int NOT NULL,
  `category_id` int NOT NULL,
  `class_date` date NOT NULL,
  `start_time` time NOT NULL,
  `end_time` time NOT NULL,
  `location_id` int NOT NULL,
  `coach_id` int NOT NULL,
  `max_capacity` int NOT NULL DEFAULT '10',
  `current_capacity` int NOT NULL DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- 傾印資料表的資料 `classes`
--

INSERT INTO `classes` (`id`, `type_id`, `category_id`, `class_date`, `start_time`, `end_time`, `location_id`, `coach_id`, `max_capacity`, `current_capacity`, `created_at`, `updated_at`) VALUES
(9, 1, 1, '2025-04-01', '09:00:00', '10:00:00', 1, 1, 20, 2, '2025-03-20 09:14:50', '2025-03-24 05:36:58'),
(10, 2, 1, '2025-04-01', '10:30:00', '11:30:00', 1, 2, 15, 1, '2025-03-20 09:14:50', '2025-03-24 05:57:05'),
(11, 3, 2, '2025-04-01', '14:00:00', '15:00:00', 2, 3, 25, 1, '2025-03-20 09:14:50', '2025-03-24 06:02:49'),
(12, 1, 2, '2025-04-01', '16:00:00', '17:00:00', 2, 4, 20, 1, '2025-03-20 09:14:50', '2025-03-24 08:38:28'),
(13, 2, 1, '2025-04-02', '09:00:00', '10:00:00', 3, 5, 15, 1, '2025-03-20 09:14:50', '2025-03-24 08:42:33'),
(14, 3, 2, '2025-04-02', '10:30:00', '11:30:00', 3, 1, 25, 1, '2025-03-20 09:14:50', '2025-03-21 01:51:38'),
(15, 1, 1, '2025-04-02', '14:00:00', '15:00:00', 1, 2, 20, 1, '2025-03-20 09:14:50', '2025-03-21 01:52:34'),
(16, 2, 2, '2025-04-02', '16:00:00', '17:00:00', 1, 3, 15, 1, '2025-03-20 09:14:50', '2025-03-20 09:23:01'),
(17, 3, 1, '2025-04-03', '09:00:00', '10:00:00', 2, 4, 25, 1, '2025-03-20 09:14:50', '2025-03-24 08:22:59'),
(18, 1, 2, '2025-04-03', '10:30:00', '11:30:00', 2, 5, 20, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(19, 2, 1, '2025-04-03', '14:00:00', '15:00:00', 3, 1, 15, 1, '2025-03-20 09:14:50', '2025-03-24 08:42:42'),
(20, 3, 2, '2025-04-03', '16:00:00', '17:00:00', 3, 2, 25, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(21, 1, 1, '2025-04-04', '09:00:00', '10:00:00', 1, 3, 20, 1, '2025-03-20 09:14:50', '2025-03-20 09:23:56'),
(22, 2, 2, '2025-04-04', '10:30:00', '11:30:00', 1, 4, 15, 1, '2025-03-20 09:14:50', '2025-03-24 04:07:52'),
(23, 3, 1, '2025-04-04', '14:00:00', '15:00:00', 2, 5, 25, 1, '2025-03-20 09:14:50', '2025-03-24 09:06:15'),
(24, 1, 2, '2025-04-04', '16:00:00', '17:00:00', 2, 1, 20, 1, '2025-03-20 09:14:50', '2025-03-24 05:37:10'),
(25, 2, 1, '2025-04-05', '09:00:00', '10:00:00', 3, 2, 15, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(26, 3, 2, '2025-04-05', '10:30:00', '11:30:00', 3, 3, 25, 1, '2025-03-20 09:14:50', '2025-03-24 06:04:57'),
(27, 1, 1, '2025-04-05', '14:00:00', '15:00:00', 1, 4, 20, 1, '2025-03-20 09:14:50', '2025-03-20 09:24:46'),
(28, 2, 2, '2025-04-05', '16:00:00', '17:00:00', 1, 5, 15, 1, '2025-03-20 09:14:50', '2025-03-20 09:26:21'),
(29, 3, 1, '2025-04-06', '09:00:00', '10:00:00', 2, 1, 25, 1, '2025-03-20 09:14:50', '2025-03-25 04:09:34'),
(30, 1, 2, '2025-04-06', '10:30:00', '11:30:00', 2, 2, 20, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(31, 2, 1, '2025-04-06', '14:00:00', '15:00:00', 3, 3, 15, 1, '2025-03-20 09:14:50', '2025-03-24 06:05:44'),
(32, 3, 2, '2025-04-06', '16:00:00', '17:00:00', 3, 4, 25, 1, '2025-03-20 09:14:50', '2025-03-25 05:25:32'),
(33, 1, 1, '2025-04-07', '09:00:00', '10:00:00', 1, 5, 20, 1, '2025-03-20 09:14:50', '2025-03-24 05:58:07'),
(34, 2, 2, '2025-04-07', '10:30:00', '11:30:00', 1, 1, 15, 1, '2025-03-20 09:14:50', '2025-03-20 09:27:25'),
(35, 3, 1, '2025-04-07', '14:00:00', '15:00:00', 2, 2, 25, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(36, 1, 2, '2025-04-07', '16:00:00', '17:00:00', 2, 3, 20, 1, '2025-03-20 09:14:50', '2025-03-24 06:05:18'),
(37, 2, 1, '2025-04-08', '09:00:00', '10:00:00', 3, 4, 15, 1, '2025-03-20 09:14:50', '2025-03-20 09:26:08'),
(38, 3, 2, '2025-04-08', '10:30:00', '11:30:00', 3, 5, 25, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(39, 1, 1, '2025-04-08', '14:00:00', '15:00:00', 1, 1, 20, 1, '2025-03-20 09:14:50', '2025-03-24 07:19:28'),
(40, 2, 2, '2025-04-08', '16:00:00', '17:00:00', 1, 2, 15, 1, '2025-03-20 09:14:50', '2025-03-25 04:10:08'),
(41, 3, 1, '2025-04-09', '09:00:00', '10:00:00', 2, 3, 25, 1, '2025-03-20 09:14:50', '2025-03-24 06:09:21'),
(42, 1, 2, '2025-04-09', '10:30:00', '11:30:00', 2, 4, 20, 1, '2025-03-20 09:14:50', '2025-03-24 08:39:27'),
(43, 2, 1, '2025-04-09', '14:00:00', '15:00:00', 3, 5, 15, 1, '2025-03-20 09:14:50', '2025-03-25 02:19:11'),
(44, 3, 2, '2025-04-09', '16:00:00', '17:00:00', 3, 1, 25, 1, '2025-03-20 09:14:50', '2025-03-26 02:50:17'),
(45, 1, 1, '2025-04-10', '09:00:00', '10:00:00', 1, 2, 20, 1, '2025-03-20 09:14:50', '2025-03-24 05:58:57'),
(46, 2, 2, '2025-04-10', '10:30:00', '11:30:00', 1, 3, 15, 1, '2025-03-20 09:14:50', '2025-03-24 06:22:24'),
(47, 3, 1, '2025-04-10', '14:00:00', '15:00:00', 2, 4, 25, 1, '2025-03-20 09:14:50', '2025-03-24 08:20:45'),
(48, 1, 2, '2025-04-10', '16:00:00', '17:00:00', 2, 5, 20, 1, '2025-03-20 09:14:50', '2025-03-20 09:22:28'),
(49, 2, 1, '2025-04-11', '09:00:00', '10:00:00', 3, 1, 15, 1, '2025-03-20 09:14:50', '2025-03-24 05:35:55'),
(50, 3, 2, '2025-04-11', '10:30:00', '11:30:00', 3, 2, 25, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(51, 1, 1, '2025-04-11', '14:00:00', '15:00:00', 1, 3, 20, 1, '2025-03-20 09:14:50', '2025-03-24 06:05:53'),
(52, 2, 2, '2025-04-11', '16:00:00', '17:00:00', 1, 4, 15, 1, '2025-03-20 09:14:50', '2025-03-24 08:20:41'),
(53, 3, 1, '2025-04-12', '09:00:00', '10:00:00', 2, 5, 25, 1, '2025-03-20 09:14:50', '2025-03-25 14:25:51'),
(54, 1, 2, '2025-04-12', '10:30:00', '11:30:00', 2, 1, 20, 1, '2025-03-20 09:14:50', '2025-03-26 05:35:00'),
(55, 2, 1, '2025-04-12', '14:00:00', '15:00:00', 3, 2, 15, 0, '2025-03-20 09:14:50', '2025-03-20 09:14:50'),
(56, 3, 2, '2025-04-12', '16:00:00', '17:00:00', 3, 3, 25, 1, '2025-03-20 09:14:50', '2025-03-25 09:21:24'),
(57, 1, 1, '2025-04-13', '09:00:00', '10:00:00', 1, 4, 20, 1, '2025-03-20 09:14:50', '2025-03-25 01:56:32'),
(58, 2, 2, '2025-04-13', '10:30:00', '11:30:00', 1, 5, 15, 1, '2025-03-20 09:14:50', '2025-03-25 09:22:35');

-- --------------------------------------------------------

--
-- 資料表結構 `class_categories`
--

CREATE TABLE `class_categories` (
  `id` int NOT NULL,
  `category_name` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- 傾印資料表的資料 `class_categories`
--

INSERT INTO `class_categories` (`id`, `category_name`) VALUES
(1, '入門課程'),
(2, '進階課程'),
(3, '團體課程'),
(4, '其他課程');

-- --------------------------------------------------------

--
-- 資料表結構 `class_types`
--

CREATE TABLE `class_types` (
  `id` int NOT NULL,
  `type_name` varchar(50) NOT NULL,
  `description` text,
  `avatar_url` varchar(255) DEFAULT NULL,
  `category_id` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- 傾印資料表的資料 `class_types`
--

INSERT INTO `class_types` (`id`, `type_name`, `description`, `avatar_url`, `category_id`) VALUES
(1, '瑜珈課程', '結合呼吸與體位法，提升身心靈健康', NULL, 1),
(2, '重訓課程', '使用各種器材進行肌力訓練', NULL, 1),
(3, '心肺課程', '提升心肺功能與耐力的有氧運動', NULL, 2),
(4, '飛輪課程', '室內腳踏車訓練，強化下肢肌群', NULL, 2),
(5, '舞蹈課程', '結合音樂的全身性有氧運動', NULL, 3),
(6, '格鬥課程', '學習搏擊技巧，強化體能', NULL, 3),
(7, '皮拉提斯', '強化核心肌群，改善體態', NULL, 4),
(8, 'TRX課程', '懸吊式阻抗訓練，全身性運動', NULL, 4);




資料表索引 `classes`
--
ALTER TABLE `classes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `type_id` (`type_id`),
  ADD KEY `category_id` (`category_id`),
  ADD KEY `coach_id` (`coach_id`),
  ADD KEY `location_id` (`location_id`);

--
-- 資料表索引 `class_categories`
--
ALTER TABLE `class_categories`
  ADD PRIMARY KEY (`id`);

--
-- 資料表索引 `class_types`
--
ALTER TABLE `class_types`
  ADD PRIMARY KEY (`id`);


  -- 資料表的限制式 `classes`
--
ALTER TABLE `classes`
  ADD CONSTRAINT `classes_ibfk_1` FOREIGN KEY (`type_id`) REFERENCES `class_types` (`id`),
  ADD CONSTRAINT `classes_ibfk_2` FOREIGN KEY (`category_id`) REFERENCES `class_categories` (`id`),
  ADD CONSTRAINT `classes_ibfk_3` FOREIGN KEY (`coach_id`) REFERENCES `coaches` (`id`),
  ADD CONSTRAINT `classes_ibfk_4` FOREIGN KEY (`location_id`) REFERENCES `locations` (`id`);

